<template>
  <div>
    <div @click="upClick"
         @drop.prevent="onDrop"
         @dragover.prevent="dragOver = true"
         @dragleave.prevent="dragOver = false">
      <input @click="checkUp"  ref="input" type="file" multiple="multiple"/>
      <slot></slot>
    </div>

  </div>
</template>

<script>
  export default {
    name:'countUp',
    data(){
      return{
        dragOver:false
      }
    },
    props:{

    },
    methods: {
      upClick(){
       this.$refs.input.click();
      },
      checkUp(e){
        const file = e.target.file;
        if(!file){
          return;
        }
        this.uploadFlie(file);
        this.$refs.input.value = null;
      },
      uploadFlie(file){
        for(let i =0;i<file.length;i++){

        }
        var xhr = new XMLHttpRequest();

      },
      clearFile(){

      },
      onDrop(e){
        this.dragOver = false;
        this.uploadFlie(e.dataTransfer.files);
      }
    }
  }
</script>
